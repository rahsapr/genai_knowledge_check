/* -------------------- THEME & LAYOUT -------------------- */
:root{
  --bg:#07102a;
  --panel:#0f2147;
  --accent1:#ffb84d; /* Gold */
  --accent2:#ff7a59; /* Coral */
  --neon:#7c5cff;    /* Purple */
  --text:#e6eef8;
  --muted:#9fb0cd;
  --success:#26c281;
  --danger:#ff6b6b;
  --glass: rgba(255,255,255,0.02);
  --border-light: rgba(255,255,255,0.03);
  --border-medium: rgba(255,255,255,0.06);
  --shadow-color: rgba(2,6,18,0.7);
}
*{box-sizing:border-box}
html,body{
  height:100%;
  margin:0;
  background:
    radial-gradient(900px 400px at 10% 12%, rgba(124,92,255,0.06), transparent 10%),
    radial-gradient(900px 350px at 90% 90%, rgba(255,122,89,0.02), transparent 10%),
    var(--bg);
  font-family:'Montserrat',system-ui,-apple-system,'Segoe UI',Roboto,Arial;
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding:18px;
}
* { transition: all .2s ease-out; }

/* app layout */
.app{
  max-width:1220px;
  margin:6px auto;
  display:grid;
  grid-template-columns: 1fr 340px;
  gap:18px;
}
@media (max-width:1000px){ .app{ grid-template-columns:1fr; padding:12px } }

.panel {
  border-radius:14px;
  padding:20px;
  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
  border:1px solid var(--border-light);
  box-shadow: 0 12px 40px var(--shadow-color);
}

/* main pane */
.main{ min-height:620px; display:flex; flex-direction:column; gap:18px; }

/* ladder pane */
.ladder{ min-height:620px; padding:20px; background: linear-gradient(180deg, rgba(13,25,60,0.6), rgba(6,12,30,0.45)); color:var(--muted); border-radius:14px; border:1px solid var(--border-light); box-shadow:0 12px 40px rgba(2,6,18,0.6); }

/* --- START SCREEN --- */
.start-screen{ 
  display:flex; 
  flex-direction:column; 
  gap:16px; 
  align-items:center; 
  justify-content:center; 
  flex-grow: 1; 
  text-align:center; 
  padding:0; 
  cursor: pointer; 
  position: relative; /* Needed to position the button inside */
}
#startScreenImg { max-width: 100%; height: auto; border-radius: 12px; }
#startScreenImg:hover { transform: scale(1.02); box-shadow: 0 15px 40px var(--shadow-color); }

/* --- Buttons on Start Screen --- */
#playGameBtn {
  position: absolute;
  bottom: 25px;
  left: 25px;
  background: linear-gradient(45deg, var(--neon), var(--accent2));
  color: #fff;
  font-weight: 900;
  padding: 10px 20px;
  border-radius: 12px;
  border: 3px solid #1c1c1c;
  box-shadow: 4px 4px 0 #1c1c1c;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.2);
  font-size: 14px;
  z-index: 5;
  cursor: pointer;
}
#playGameBtn:hover {
  transform: scale(1.05) rotate(2deg);
  box-shadow: 6px 6px 0 #1c1c1c;
}

#howToPlayBtn {
  position: absolute;
  bottom: 25px;
  right: 25px;
  background: linear-gradient(45deg, #ff7a59, #ffb84d);
  color: #fff;
  font-weight: 900;
  padding: 10px 20px;
  border-radius: 12px;
  border: 3px solid #1c1c1c;
  box-shadow: 4px 4px 0 #1c1c1c;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.2);
  font-size: 14px;
  z-index: 5;
  cursor: pointer;
}
#howToPlayBtn:hover {
  transform: scale(1.05) rotate(-2deg);
  box-shadow: 6px 6px 0 #1c1c1c;
}


/* buttons */
.btn{ padding:12px 24px; border-radius:10px; border:none; cursor:pointer; font-weight:800; letter-spacing:0.3px; font-size: 15px; }
.btn-start{ background: linear-gradient(90deg,var(--neon),var(--accent2)); color:#041027; box-shadow: 0 8px 20px rgba(124, 92, 255, 0.2); }
.btn-start:hover{ transform: translateY(-3px); box-shadow: 0 12px 25px rgba(255, 122, 89, 0.25); }
.btn-ghost{ background:transparent; border:1px solid var(--border-medium); color:var(--text); }
.btn-ghost:hover{ background: var(--glass); border-color: rgba(255,255,255,0.15); }

/* topbar - lifelines and timer */
.topbar{ display:flex; align-items:flex-start; justify-content:space-between; gap:12px }

/* --- LIFELINE STYLES --- */
.lifelines-container { display: flex; flex-direction: column; gap: 8px; }
.lifelines-label { color: var(--muted); font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 1.5px; padding-left: 2px; opacity: 0.6; }
.lifelines{ display:flex; gap:10px; align-items:center; }
.lifeline-btn{
  background: #fff;
  padding:8px; border-radius:10px; width:52px; height:48px; display:flex; align-items:center; justify-content:center;
  cursor:pointer; border: none; position:relative;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}
#btnAlexa {
  width: 100px; /* Make the Alexa button wider to fit the logo */
}
.lifeline-btn img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* This ensures the image scales down correctly */
}
.lifeline-btn:hover{ transform:translateY(-3px); box-shadow: 0 8px 20px rgba(2,6,18,0.8); }
.lifeline-btn.used{ opacity:0.5; pointer-events:none; transform:none; box-shadow: none; }
.lifeline-btn.used img { filter: grayscale(1); }

/* tooltip on hover */
.lifeline-btn .tooltip{
  position:absolute; top:calc(100% + 8px); left:50%; transform:translateX(-50%); background:rgba(8,12,28,0.98); color:var(--muted);
  padding:8px 12px; border-radius:8px; font-size:13px; white-space:nowrap; display:none; box-shadow:0 8px 30px rgba(0,0,0,0.6); z-index: 10;
}
.lifeline-btn:hover .tooltip{ display:block }

/* Volume Slider */
#volumeControl {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 29px;
}
#volumeControl img {
  width: 40px;
  height: 40px;
  opacity: 0.7;
}
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 120px;
  height: 16px;
  background: linear-gradient(to right, var(--accent1) 0%, var(--accent1) var(--volume-progress, 50%), rgba(0,0,0,0.3) var(--volume-progress, 50%), rgba(0,0,0,0.3) 100%);
  border-radius: 8px;
  outline: none;
  border: 1px solid var(--border-light);
  cursor: pointer;
  transition: background 0.1s ease;
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  background: #fff;
  cursor: pointer;
  border-radius: 50%;
  box-shadow: 0 0 10px 2px #fff, 0 0 20px 2px var(--accent1);
}
input[type="range"]::-moz-range-thumb {
  width: 18px;
  height: 18px;
  background: #fff;
  cursor: pointer;
  border-radius: 50%;
  border: none;
  box-shadow: 0 0 10px 2px #fff, 0 0 20px 2px var(--accent1);
}


/* timer */
.timer{ margin-top: 29px; /* Align with other buttons */ padding:10px 18px; border-radius:10px; font-weight:900; font-size:22px; min-width:90px; text-align:center; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06)); border:1px solid var(--border-light); box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
.timer.warning{ box-shadow:0 0 12px 2px rgba(255,160,80,0.2); color:var(--accent2); border-color: rgba(255,160,80,0.2); }
.timer.danger{ box-shadow:0 0 15px 3px rgba(255,90,90,0.25); color:var(--danger); border-color: rgba(255,90,90,0.25); animation: pulse-danger .8s infinite; }
@keyframes pulse-danger { 50% { transform: scale(1.05); } }

/* question card */
.question-card{ background: linear-gradient(180deg, rgba(10,20,40,0.92), rgba(6,12,30,0.92)); border-radius:12px; padding:24px; border:1px solid var(--border-medium); flex-grow: 1; display:flex; flex-direction:column; gap:14px }
.q-meta{ display:flex; justify-content:space-between; align-items:flex-start; gap:10px; }
.q-meta .left{ font-size:14px; color:var(--muted); }
.q-meta .prize{ font-weight:900; color:var(--accent1); font-size:20px; }

/* question text */
.question{ font-size:clamp(18px, 2.5vw, 22px); font-weight:700; line-height:1.4; color:var(--text); margin:auto 0; white-space:normal; word-break:break-word; text-align: center; padding: 10px 0; }

/* answers */
.answers{ display:grid; grid-template-columns:1fr 1fr; gap:14px; align-items:stretch; margin-top:auto; }
.answer{ background: linear-gradient(90deg,#26366f,#1b274f); padding:14px; border-radius:12px; border:1px solid var(--border-medium); display:flex; gap:12px; align-items:center; cursor:pointer; color:var(--text); min-height:72px; box-shadow:0 6px 18px rgba(2,8,20,0.6); position: relative; }
.answer .label{ min-width:44px; height:44px; line-height:44px; text-align:center; border-radius:10px; font-weight:900; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12)); color:var(--muted); flex-shrink:0 }
.answer .text{ font-weight:700; font-size:clamp(14px, 2vw, 16px); color:var(--text); line-height:1.3; white-space:normal }
.answer:hover{ transform:translateY(-6px); box-shadow:0 12px 30px rgba(2,8,20,0.8), 0 0 15px rgba(255,184,77,0.15); border-color: rgba(255,200,120,0.2); }
.answer.disabled{ opacity:0.32; pointer-events:none; transform:none; box-shadow:none }
.answer.correct{
    border-color: rgba(38,194,129,0.4);
    background: linear-gradient(90deg, #1A4A3A, #10322A);
    box-shadow: 0 0 20px rgba(38,194,129,0.3);
    animation: pulse-correct .5s;
}
.answer.correct .label { background: var(--success); color: var(--bg); }
@keyframes pulse-correct { 50% { transform: scale(1.03); } }

.answer.wrong{
    border-color: rgba(255,107,107,0.4);
    background: linear-gradient(90deg, #5A2A2A, #421a1a);
    box-shadow: 0 0 20px rgba(255,107,107,0.25);
}
.answer.wrong .label { background: var(--danger); color: var(--bg); }

/* controls */
.controls{ display:flex; justify-content:space-between; align-items:center; margin-top:12px; gap:12px }
.hint{ color:var(--muted); font-size:14px }
.walk{ background:linear-gradient(90deg,#53607f,#384a6b); color:var(--text); padding:12px 18px; border-radius:12px; font-weight:800; border:1px solid var(--border-light); cursor: pointer; }
.walk:hover { background:linear-gradient(90deg,#69789a,#475c80); transform: translateY(-2px); box-shadow: 0 6px 15px rgba(2,6,18,0.8); }

/* ladder */
.ladder h3{ margin:0 0 8px 0; color:var(--text); font-size:22px; font-weight: 700; }
.ladder small{ color:var(--muted); display:block; margin-bottom:12px; }
.prize-list{ display:flex; flex-direction:column; gap:8px; max-height:640px; overflow:auto; padding-right:6px; }
.prize{ display:flex; justify-content:space-between; align-items:center; padding:10px 14px; border-radius:8px; background:transparent; color:var(--muted); font-weight:700; border:1px solid var(--border-light); }
.prize.current{ background: linear-gradient(90deg,var(--accent1),var(--accent2)); color:#041027; box-shadow:0 10px 30px rgba(255,122,89,0.25); transform:translateX(8px); border-color: transparent; }
.prize.guaranteed{ border-color: rgba(255,184,77,0.3); box-shadow: inset 0 0 8px rgba(255,184,77,0.1); }
.prize.guaranteed div:first-child { color: var(--accent1); }

/* modals & overlays */
.modal-backdrop{ position:fixed; inset:0; background: rgba(4,8,20,0.8); backdrop-filter: blur(4px); display:flex; align-items:center; justify-content:center; z-index:60; }
.modal{ background: linear-gradient(180deg, #142a55, #0c1a3a); padding:24px; border-radius:14px; width:640px; max-width:94%; color:var(--text); border:1px solid var(--border-medium); box-shadow: 0 15px 50px rgba(0,0,0,0.5); }
.modal h3 { margin-top: 0; color: var(--accent1); font-family: 'Playfair Display'; font-size: 24px;}
.modal p { color: var(--muted); line-height: 1.6; }

/* final-answer overlay */
.final-overlay{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:120;
  background: linear-gradient(180deg, rgba(2,6,18,0.7), rgba(2,6,18,0.9));
  backdrop-filter: blur(5px);
}
.final-card{
  background:linear-gradient(180deg, #142a55, #0c1a3a); padding:24px; border-radius:14px;
  width:420px; max-width:92%; text-align:center; border:1px solid var(--border-medium);
  box-shadow: 0 15px 50px rgba(0,0,0,0.5);
}
#finalPrompt { font-family: 'Playfair Display'; font-size: 28px; margin-bottom: 8px; color: var(--accent1); }
#finalChoice { color: var(--muted); margin-bottom: 20px; font-size: 16px; }
#finalChoice strong { color: var(--text); font-size: 18px; }

/* celebration confetti (simple) */
.confetti { position:fixed; pointer-events:none; width:100%; height:100%; left:0; top:0; z-index:110; }
.piece{ position:absolute; width:10px; height:16px; border-radius:2px; opacity:0; animation: fall 1100ms linear forwards; }
@keyframes fall {
  0%{ opacity:1; transform:translateY(-40px) rotate(0deg) }
  100%{ opacity:1; transform:translateY(520px) rotate(720deg) }
}

/* end screen */
.end-screen{ display:flex; flex-direction:column; align-items:center; justify-content:center; gap:12px; padding:24px 0; text-align:center; }
.end-title{ font-family:'Playfair Display'; font-size:42px; color:var(--accent1); margin:0; }
.end-screen > .muted { margin-bottom: 12px; }
#endPrize { font-size: 24px; font-weight: 700; color: var(--text); }
#nameEntrySection { width: 100%; max-width: 480px; }
#nameEntrySection input {
  padding:12px 16px; border-radius:8px; border:1px solid var(--border-medium);
  background:rgba(0,0,0,0.2); color:var(--text); min-width: 260px;
  font-size: 15px; text-align: center; flex-grow: 1;
}
#nameEntrySection input:focus { border-color: var(--neon); outline: none; box-shadow: 0 0 10px rgba(124, 92, 255, 0.2); }
#saveScoreBtn { background: linear-gradient(90deg,var(--accent1),#ffd27a); color:#04101a; }
#postSaveControls { display: flex; gap: 12px; align-items: center; margin-top: 24px; }

/* leaderboard table */
.leaderboard-section {
  width:100%; max-width:720px; margin-top:24px; text-align:left;
  background: rgba(0,0,0,0.1); padding: 16px; border-radius: 12px;
  border: 1px solid var(--border-light);
}
.leaderboard-section h4 { margin: 0 0 12px 0; color:var(--muted); font-size: 18px; text-align: center; }
.leaderboard{ margin-top:12px; width:100%; max-width:720px; color:var(--muted); }
.lb-row{ display:flex; justify-content:space-between; gap:12px; padding:10px 12px; border-radius:8px; background:rgba(255,255,255,0.018); margin-bottom:6px; font-weight:700; border-bottom: 1px solid var(--border-light); }
.lb-row:last-child { border-bottom: none; }
.lb-row div:first-child { color: var(--text); }

/* subtle animations */
.fade-in{ animation:fadeIn .45s ease-out both; }
@keyframes fadeIn{ from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:none} }

/* -------------------- RETRO CERTIFICATE STYLES -------------------- */
#retroCertificate {
  display: none; /* Hidden by default */
  width: 100%;
  max-width: 800px;
  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
  padding: 30px;
  border-radius: 12px;
  border: 4px solid #ffdf00;
  text-align: center;
  font-family: 'Press Start 2P', cursive;
  position: relative;
  overflow: hidden;
  margin-top: 24px;
  box-shadow: 0 0 40px rgba(255, 223, 0, 0.2);
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}
#retroCertificate::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0) 100%);
    transform: rotate(25deg);
    animation: shine-sweep 4s infinite;
}
@keyframes shine-sweep {
    0% { transform: translateX(-75%) rotate(25deg); }
    100% { transform: translateX(75%) rotate(25deg); }
}
#retroCertificate h2 {
  font-size: clamp(16px, 4vw, 24px);
  margin: 10px 0 20px 0;
  color: #ffdf00;
  line-height: 1.2;
}
#retroCertificate h3 {
  font-size: clamp(18px, 5vw, 32px);
  margin: 10px 0;
  color: #33ffdd;
}
#retroCertificate p {
  margin: 15px 0;
  color: #efefef;
  font-size: clamp(10px, 2.5vw, 12px);
  line-height: 1.5;
}
.cert-badge {
  position: absolute;
  right: 20px;
  bottom: 20px;
  width: 100px;
  height: 100px;
  background: conic-gradient(from 0deg, #ff00ff, #00ffff, #ffff00, #ff00ff);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: black;
  font-size: 10px;
  font-weight: bold;
  text-align: center;
  line-height: 1.2;
  padding: 4px;
  text-shadow: none;
  animation: holographic-spin 3s infinite linear;
}
@keyframes holographic-spin {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}


/* -------------------- GRAND PRIZE CELEBRATION STYLES -------------------- */
#winOverlay {
  position: fixed;
  inset: 0;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  z-index: 200;
}
#winOverlay img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* This makes the GIF cover the screen without distortion */
}


/* --- PAGE FOOTER STYLES --- */
.page-footer {
  width: 100%;
  max-width: 1220px;
  margin: 24px auto 0;
  padding: 12px;
  text-align: center;
  font-size: 13px;
  color: var(--muted);
  opacity: 0.8;
}
.page-footer a {
  color: var(--accent1);
  font-weight: 700;
  text-decoration: none;
}
.page-footer a:hover {
  text-decoration: underline;
}
